@(user: User, categorys:List[Category],  lists: List[CartItem])

@usermanage = {
	@if(user == null) {
		<li><a href="@routes.Application.login">登陆/注册</a></li>
	} else {
		<li><a href="#">@user.username </a></li>
		<li class="divider-vertical"></li>
		<li><a href="@routes.Application.logout">购物车</a></li>
	}
}

@javascript =  { }
@main(user.username+"的购物车")(usermanage)(javascript) {
        
<div class="container">
		<div class="row">
			<div class="span3">
				@if(user != null) {
					<div id="usercart" class="well">
					@views.html.cart.view(user.cart)
					</div>
				}
				<div class="well">
					@views.html.tab(categorys, "No")
				</div>
			</div>

			<div class="span9">
				<h2>购物车</h2>
				<form>
					<table class="table table-striped table-hover">
						<thead>
							<tr><th>书名</th><th>数量</th><th>单价</th><th>总价</th></tr>
						</thead>
						<tbody>
@lists.map { list =>
<tr>
	<td>@list.book.title</td>
	<td><input id="quantity-1" name="quantity-1" type="text" class="span1" value=@list.num />
	&nbsp;<a href="#">&nbsp;<i class="icon-refresh">&nbsp;</i></a>&nbsp;<a href="#">&nbsp;<i class="icon-trash"></i>&nbsp;</a></td>
	<td>@list.price</td>
	<td>@{list.price*list.num}</td>
</tr>
}	
						</tbody>
					</table>
				</form>
				<dl class="dl-horizontal pull-right">
					<dt>数量:</dt>
					<dd>&nbsp;@{var num=0;for(p <- lists) {num+=p.num;}
						num}</dd>
					<dt>总计:</dt>
					<dd>$&nbsp;@{var sum=0.00;for(p <- lists) {sum+=p.price*p.num;}
						sum}</dd>
				</dl>
				<div class="clearfix"></div>
				<a href="#" class="btn btn-success pull-right">结&nbsp;算</a>
				<a href="/" class="btn btn-primary">继续购物</a>
			</div>
		</div>
	</div>
	
<div id="bookModal" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true"  style="top:38%;">
  <div class="modal-body text-center">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
    <p>???</p>
    <button class="btn btn-inverse" data-dismiss="modal" aria-hidden="true">关闭</button>
  </div>
</div>
}
